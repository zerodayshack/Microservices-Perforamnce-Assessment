# Smart Mobility App Dataset

Dataset and scripts to replicate the experiments reported in the manuscript: "Multi-level Scalability Assessment of Microservices Applications based on Actor-driven Decomposition" submitted for possible publication to the Journal of Systems and Software, Elsevier (2021).

## Structure of the package

### Data

Each set of experiments is contained in a directory that follows this naming convention:

```
<architecture>_iter<i>_<behavior-mix>
```

* `architecture`: one of the three alternative software architecture `Monolith` (Mono), `CQRS` (Cqrs), `RS` (Role);
* `i`: #iteration (either 1 or 2) which determines the `deployment_pm` configuration;
* `behavior-mix` behavior mix models adopted in the experiments either `Ω` (bal) or `Ω'` (unbal).

Each directory contains, for each workload intensity, the data collected during three load testing sessions.

Example (CQRS, 1st iteration, 100 users, bal profile):
```
Cqrs_iter1_bal
├── Cqrs_100th_try0_iter1_bal
│   └── test_Cqrs_100th_try0_iter1_bal.jtl
├── Cqrs_100th_try1_iter1_bal
│   └── test_Cqrs_100th_try1_iter1_bal.jtl
├── Cqrs_100th_try2_iter1_bal
│   └── test_Cqrs_100th_try2_iter1_bal.jtl
```

### R Scripts

**Clean**: remove unnecessary files and keep the `.jtl` logs generated by JMeter.

```
Rscript clean.R <dir>
```

Exapmple: `Rscript clean.R Cqrs_iter1_bal`

**summary**: clean the data and extract a summary from a set of experiments.

```
Rscript summary.R <dir> <users> <out>
```

Example: `summary.R Cqrs_iter1_bal 100 Cqrs_iter1_bal_report.csv`

**multiple summary**: extract the final summary for further analysis from a set of experiments.

```
Rscript multi_summary.R <dir> <out>
```

Example: `summary.R Cqrs_iter1_bal Cqrs_iter1_bal_report.csv`

**statistical difference**: Detect statistical difference (Mann-Whitney U test) of response-time values collected from alternative architectures.

```
Rscript stat_difference_exp.R <dir> <dir2> <users>
```

Example: `Rscript stat_difference_exp.R Mono_iter1_bal Cqrs_iter1_bal 100`

**effect size**: Produce the summary of effect-size (Vargha-Delaney A12) and p-value (Mann-Whitney U-Test) from a set of jtl files collected from the three alternative architectures.

```
Rscript effect_size.R <dir1> <dir2> <dir3> <users> <out_dir>
```

Example: `Rscript effect_size.R Mono_iter1_bal Cqrs_iter1_bal 100 effectsize_iter1_bal`

**multiple effect-size summary**: Run the computation of the effect size multiple times (for each #user value).

```
Rscript multi_effectsize_summary.R Mono_iter1_bal Cqrs_iter1_bal effectsize_iter1_bal
```
